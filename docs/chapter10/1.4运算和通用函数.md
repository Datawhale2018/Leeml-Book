
## 前言：
* Author： 修远
* Reviewer： 十三鸣
* 此系列数据分析笔记为Datawhale原创，将作为《李宏毅机器学习》的补充内容。
* 此系列笔记非常感谢齐伟老师，学习并且参考了他的书籍《跟老齐学Python:数据分析》

## 运算和通用函数
* 对整数进行某种运算，在python中不得不使用循环，

* 而Numpy则不需要写循环语句，用更直接的运算符号或者函数就能完成对众多数值的操作

### 1、算数运算
* 一个数组和一个标量进行加、减、乘、除运算，结果是数组中的每个元素都与该标量进行相应运算，并返回一个新的数组


```python
import numpy as np

lst = [1, 2, 3, 4, 5]
a = np.array(lst)
a*3
```




    array([ 3,  6,  9, 12, 15])




```python
a = np.arange(10).reshape((2,5))
a
```




    array([[0, 1, 2, 3, 4],
           [5, 6, 7, 8, 9]])




```python
b = a + 10
b
```




    array([[10, 11, 12, 13, 14],
           [15, 16, 17, 18, 19]])




```python
a -10
```




    array([[-10,  -9,  -8,  -7,  -6],
           [ -5,  -4,  -3,  -2,  -1]])




```python
a/10
```




    array([[0. , 0.1, 0.2, 0.3, 0.4],
           [0.5, 0.6, 0.7, 0.8, 0.9]])



#### 两个数组进行运算
* 原则上，只有形状一样的数组之间才能进行运算


```python
a.shape == b.shape
```




    True




```python
a + b
```




    array([[10, 12, 14, 16, 18],
           [20, 22, 24, 26, 28]])




```python
a - b
```




    array([[-10, -10, -10, -10, -10],
           [-10, -10, -10, -10, -10]])




```python
a * b
```




    array([[  0,  11,  24,  39,  56],
           [ 75,  96, 119, 144, 171]])




```python
a /b
```




    array([[0.        , 0.09090909, 0.16666667, 0.23076923, 0.28571429],
           [0.33333333, 0.375     , 0.41176471, 0.44444444, 0.47368421]])




```python
a 
```




    array([[0, 1, 2, 3, 4],
           [5, 6, 7, 8, 9]])




```python
m = np.arange(5)
m
```




    array([0, 1, 2, 3, 4])




```python
a + m
```




    array([[ 0,  2,  4,  6,  8],
           [ 5,  7,  9, 11, 13]])




```python
n = np.arange(1,3).reshape((-1, 1))
n
```




    array([[1],
           [2]])




```python
a + n
```




    array([[ 1,  2,  3,  4,  5],
           [ 7,  8,  9, 10, 11]])



#### 广播机制
* 数组a和数组m的形状不同，但是两个数组的1轴长度一样，在相加的时候，Numpy会自动将数组m进行广播，使得数组m和数组a的形状一样后在相加
* 同理，数组n，只不过数组n是在0轴上与数组a相同

### 2、比较运算和逻辑运算


```python
np.array([6, 4, 4]) > np.array([9, 5 ,1])
```




    array([False, False,  True])




```python
# np.array([6, 4, 3])> np.array([9, 5])  # 比较运算要求两个数组的形状一样，否则会报错
```

#### 逻辑运算：
* python中有and, or , not 三个逻辑运算符，因为Numpy是第三方库，所以它不能把自己的逻辑运算也用这三个单词命名
* 而是使用logical_and, logical_or, logical_not


```python
a = np.array([3, 6, 9])
b = np.array([4, 5, 8])
```

* np.any(a, axis = None, out = None)，a是类数组对象，主要a中(或者指定的轴中)有一个元素是True,则返回True，否则返回False
*  np.all(a, axis = None, out = None), 如果类数组对象a(或指定某个指定的轴中)所有元素都是True，则会返回True，否则返回False


```python
np.any(a > b) and np.any(a < b)

```




    True



### 3、 通用函数
* 通用函数(universal function):

* 能对数组中的每个元素进行操作，即元素级的函数

####  内置函数
* Numpy有一些默认的通用函数，按照参数的个数可将他们进行分类，一个参数的称为一元函数，两个参数称为二元函数
* * np.sin, np.cos, np.tan           三角函数

* * np.arcsin, np.arccos, np.arctan     反三角函数

* * np.sqrt                     求平方根

* * np.log, np.log2, np.log10         计算对数（依次以e，2， 10为底）
* * np.power   指数运算

* * np.round   四舍五入


```python
import numpy as np
alpha = np.linspace(-1, 1, 11)   #初始alpha的值
alpha   
```




    array([-1. , -0.8, -0.6, -0.4, -0.2,  0. ,  0.2,  0.4,  0.6,  0.8,  1. ])




```python
y = np.sin(np.pi * alpha)    #计算，并放入sin函数中
y
```




    array([-1.22464680e-16, -5.87785252e-01, -9.51056516e-01, -9.51056516e-01,
           -5.87785252e-01,  0.00000000e+00,  5.87785252e-01,  9.51056516e-01,
            9.51056516e-01,  5.87785252e-01,  1.22464680e-16])




```python
np.round(y, decimals = 3)  #四舍五入，保留3位有效数字
```




    array([-0.   , -0.588, -0.951, -0.951, -0.588,  0.   ,  0.588,  0.951,
            0.951,  0.588,  0.   ])




```python
a = np.array([3, 6, 9])
b = np.array([4, 5, 8])
print(a)
print(b)
```

    [3 6 9]
    [4 5 8]
    


```python
np.add(a, b)   # 相加
```




    array([ 7, 11, 17])




```python
np.add(np.power(np.sin(alpha),2), np.power(np.cos(alpha),2))  #（cos^2(x)+sin^2(x)=1）
```




    array([1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1.])




```python
np.sin(alpha)**2 + np.cos(alpha)**2    #（cos^2(x)+sin^2(x)=1）   
```




    array([1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1.])




```python
a = np.arange(10.0, 100.0,2)        # 初始a的值
b = np.logspace(2, 4, a.shape[0])   # 初始b的值
a
```




    array([10., 12., 14., 16., 18., 20., 22., 24., 26., 28., 30., 32., 34.,
           36., 38., 40., 42., 44., 46., 48., 50., 52., 54., 56., 58., 60.,
           62., 64., 66., 68., 70., 72., 74., 76., 78., 80., 82., 84., 86.,
           88., 90., 92., 94., 96., 98.])




```python
b
```




    array([  100.        ,   111.03363182,   123.28467394,   136.88745095,
             151.9911083 ,   168.76124758,   187.38174229,   208.05675382,
             231.01297001,   256.50209057,   284.80358684,   316.22776602,
             351.11917342,   389.86037025,   432.87612811,   480.63808631,
             533.66992312,   592.55309755,   657.93322466,   730.52715427,
             811.13083079,   900.62802021,  1000.        ,  1110.33631817,
            1232.84673944,  1368.87450954,  1519.91108295,  1687.61247579,
            1873.81742286,  2080.56753822,  2310.12970008,  2565.02090568,
            2848.03586844,  3162.27766017,  3511.19173422,  3898.60370255,
            4328.76128108,  4806.38086306,  5336.69923121,  5925.53097555,
            6579.33224658,  7305.27154266,  8111.3083079 ,  9006.28020211,
           10000.        ])




```python
a.shape
```




    (45,)




```python
np.remainder(b, a, out =m)
```




    array([ 0.        ,  3.03363182, 11.28467394,  8.88745095,  7.9911083 ,
            8.76124758, 11.38174229, 16.05675382, 23.01297001,  4.50209057,
           14.80358684, 28.22776602, 11.11917342, 29.86037025, 14.87612811,
            0.63808631, 29.66992312, 20.55309755, 13.93322466, 10.52715427,
           11.13083079, 16.62802021, 28.        , 46.33631817, 14.84673944,
           48.87450954, 31.91108295, 23.61247579, 25.81742286, 40.56753822,
            0.12970008, 45.02090568, 36.03586844, 46.27766017,  1.19173422,
           58.60370255, 64.76128108, 18.38086306,  4.69923121, 29.53097555,
            9.33224658, 37.27154266, 27.3083079 , 78.28020211,  4.        ])




```python
m
```




    array([ 0.        ,  3.03363182, 11.28467394,  8.88745095,  7.9911083 ,
            8.76124758, 11.38174229, 16.05675382, 23.01297001,  4.50209057,
           14.80358684, 28.22776602, 11.11917342, 29.86037025, 14.87612811,
            0.63808631, 29.66992312, 20.55309755, 13.93322466, 10.52715427,
           11.13083079, 16.62802021, 28.        , 46.33631817, 14.84673944,
           48.87450954, 31.91108295, 23.61247579, 25.81742286, 40.56753822,
            0.12970008, 45.02090568, 36.03586844, 46.27766017,  1.19173422,
           58.60370255, 64.76128108, 18.38086306,  4.69923121, 29.53097555,
            9.33224658, 37.27154266, 27.3083079 , 78.28020211,  4.        ])



* 创建了一个空数组m，试图用这个数组来容纳b除以a的余数

* 必须保证数组m和前面两个数组类型和形状一样

* out = m ，即声明该计算结果保存到数组m中
